{"remainingRequest":"/home/vue-manage-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vue-manage-system/src/components/page/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vue-manage-system/src/components/page/Login.vue","mtime":1560391803051},{"path":"/home/vue-manage-system/node_modules/cache-loader/dist/cjs.js","mtime":1560391811095},{"path":"/home/vue-manage-system/node_modules/thread-loader/dist/cjs.js","mtime":1560391811807},{"path":"/home/vue-manage-system/node_modules/babel-loader/lib/index.js","mtime":1560391814199},{"path":"/home/vue-manage-system/node_modules/cache-loader/dist/cjs.js","mtime":1560391811095},{"path":"/home/vue-manage-system/node_modules/vue-loader/lib/index.js","mtime":1560391807211}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data: function(){\n        return {\n            ruleForm: {\n                username: 'admin',\n                password: '123456'\n            },\n            rules: {\n                username: [\n                    { required: true, message: '请输入用户名', trigger: 'blur' }\n                ],\n                password: [\n                    { required: true, message: '请输入密码', trigger: 'blur' }\n                ]\n            }\n        }\n    },\n    methods: {\n        submitForm(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    this.$axios.post(\"/index.php/Welcome/check_userlist\", this.qs.stringify({'name': this.ruleForm.username, 'pass': this.ruleForm.password}))\n                    .then(function(res) {\n                        const status = res.status;\n                        if (status === 200) {\n                            localStorage.setItem('ms_username',this.ruleForm.username);\n                            this.$router.push('/');\n                            return true\n                        } else {\n                            console.log('Other error');\n                            return false\n                        }\n                    }.bind(this))\n                    .catch(function (error) {\n                        console.log(error.response);\n                        alert(\"Failed to login\");\n                    }.bind(this))\n                } else {\n                    console.log('error submit');\n                    return false;\n                }\n            });\n        }\n    }\n}\n",null]}