{"remainingRequest":"/home/vue-manage-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vue-manage-system/src/components/page/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vue-manage-system/src/components/page/Login.vue","mtime":1560391803051},{"path":"/home/vue-manage-system/node_modules/cache-loader/dist/cjs.js","mtime":1560391811095},{"path":"/home/vue-manage-system/node_modules/babel-loader/lib/index.js","mtime":1560391814199},{"path":"/home/vue-manage-system/node_modules/cache-loader/dist/cjs.js","mtime":1560391811095},{"path":"/home/vue-manage-system/node_modules/vue-loader/lib/index.js","mtime":1560391807211}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data: function(){\n        return {\n            ruleForm: {\n                username: 'admin',\n                password: '123456'\n            },\n            rules: {\n                username: [\n                    { required: true, message: '请输入用户名', trigger: 'blur' }\n                ],\n                password: [\n                    { required: true, message: '请输入密码', trigger: 'blur' }\n                ]\n            }\n        }\n    },\n    methods: {\n        submitForm(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    this.$axios.post(\"/index.php/Welcome/check_userlist\", this.qs.stringify({'name': this.ruleForm.username, 'pass': this.ruleForm.password}))\n                    .then(function(res) {\n                        const status = res.status;\n                        if (status === 200) {\n                            localStorage.setItem('ms_username',this.ruleForm.username);\n                            this.$router.push('/');\n                            return true\n                        } else {\n                            console.log('Other error');\n                            return false\n                        }\n                    }.bind(this))\n                    .catch(function (error) {\n                        console.log(error.response);\n                        alert(\"Failed to login\");\n                    }.bind(this))\n                } else {\n                    console.log('error submit');\n                    return false;\n                }\n            });\n        }\n    }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n    <div class=\"login-wrap\">\n        <div class=\"ms-login\">\n            <div class=\"ms-title\">后台管理系统</div>\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"0px\" class=\"ms-content\">\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"ruleForm.username\" placeholder=\"username\">\n                        <el-button slot=\"prepend\" icon=\"el-icon-lx-people\"></el-button>\n                    </el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type=\"password\" placeholder=\"password\" v-model=\"ruleForm.password\" @keyup.enter.native=\"submitForm('ruleForm')\">\n                        <el-button slot=\"prepend\" icon=\"el-icon-lx-lock\"></el-button>\n                    </el-input>\n                </el-form-item>\n                <div class=\"login-btn\">\n                    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">登录</el-button>\n                </div>\n                <p class=\"login-tips\">Tips : 用户名和密码随便填。</p>\n            </el-form>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data: function(){\n            return {\n                ruleForm: {\n                    username: 'admin',\n                    password: '123456'\n                },\n                rules: {\n                    username: [\n                        { required: true, message: '请输入用户名', trigger: 'blur' }\n                    ],\n                    password: [\n                        { required: true, message: '请输入密码', trigger: 'blur' }\n                    ]\n                }\n            }\n        },\n        methods: {\n            submitForm(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        this.$axios.post(\"/index.php/Welcome/check_userlist\", this.qs.stringify({'name': this.ruleForm.username, 'pass': this.ruleForm.password}))\n                        .then(function(res) {\n                            const status = res.status;\n                            if (status === 200) {\n                                localStorage.setItem('ms_username',this.ruleForm.username);\n                                this.$router.push('/');\n                                return true\n                            } else {\n                                console.log('Other error');\n                                return false\n                            }\n                        }.bind(this))\n                        .catch(function (error) {\n                            console.log(error.response);\n                            alert(\"Failed to login\");\n                        }.bind(this))\n                    } else {\n                        console.log('error submit');\n                        return false;\n                    }\n                });\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .login-wrap{\n        position: relative;\n        width:100%;\n        height:100%;\n        background-image: url(../../assets/img/login-bg.jpg);\n        background-size: 100%;\n    }\n    .ms-title{\n        width:100%;\n        line-height: 50px;\n        text-align: center;\n        font-size:20px;\n        color: #fff;\n        border-bottom: 1px solid #ddd;\n    }\n    .ms-login{\n        position: absolute;\n        left:50%;\n        top:50%;\n        width:350px;\n        margin:-190px 0 0 -175px;\n        border-radius: 5px;\n        background: rgba(255,255,255, 0.3);\n        overflow: hidden;\n    }\n    .ms-content{\n        padding: 30px 30px;\n    }\n    .login-btn{\n        text-align: center;\n    }\n    .login-btn button{\n        width:100%;\n        height:36px;\n        margin-bottom: 10px;\n    }\n    .login-tips{\n        font-size:12px;\n        line-height:30px;\n        color:#fff;\n    }\n</style>"]}]}