{"remainingRequest":"/home/vue-ate-manage/node_modules/babel-loader/lib/index.js!/home/vue-ate-manage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vue-ate-manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vue-ate-manage/src/components/page/SuiteTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vue-ate-manage/src/components/page/SuiteTable.vue","mtime":1561432635806},{"path":"/home/vue-ate-manage/node_modules/cache-loader/dist/cjs.js","mtime":1561373434456},{"path":"/home/vue-ate-manage/node_modules/babel-loader/lib/index.js","mtime":1561373435744},{"path":"/home/vue-ate-manage/node_modules/cache-loader/dist/cjs.js","mtime":1561373434456},{"path":"/home/vue-ate-manage/node_modules/vue-loader/lib/index.js","mtime":1561373433096}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.filter\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'basetable',\n  data: function data() {\n    return {\n      url: './vuetable.json',\n      tableData: [],\n      cur_page: 1,\n      multipleSelection: [],\n      select_cate: 'case',\n      select_word: '',\n      del_list: [],\n      is_search: false,\n      editVisible: false,\n      delVisible: false,\n      form: {\n        name: '',\n        date: '',\n        pass: ''\n      },\n      idx: -1,\n      total: 100\n    };\n  },\n  created: function created() {\n    this.getData();\n    this.getPage();\n  },\n  computed: {\n    data: function data() {\n      var _this = this;\n\n      return this.tableData.filter(function (d) {\n        var is_del = false;\n\n        for (var i = 0; i < _this.del_list.length; i++) {\n          if (d.name === _this.del_list[i].name) {\n            is_del = true;\n            break;\n          }\n        }\n\n        if (!is_del) {\n          if (d.address.indexOf(_this.select_cate) > -1 && (d.name.indexOf(_this.select_word) > -1 || d.address.indexOf(_this.select_word) > -1)) {\n            return d;\n          }\n        }\n      });\n    }\n  },\n  methods: {\n    // 分页导航\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.cur_page = val;\n      console.log(val);\n      this.getData();\n    },\n    // 获取 easy-mock 的模拟数据\n    getData: function getData() {\n      var _this2 = this;\n\n      // 开发环境使用 easy-mock 数据，正式环境使用 json 文件\n      // if (process.env.NODE_ENV === 'development') {\n      this.url = 'https://www.easy-mock.com/mock/5cfdf3b46b3bca3c744e7543/example/ms/table/list'; // };\n\n      this.$axios.post(this.url, {\n        page: this.cur_page\n      }).then(function (res) {\n        _this2.tableData = res.data.list;\n      });\n    },\n    getPage: function getPage() {\n      var _this3 = this;\n\n      this.url = \"/index.php/ReturnView/pagination/suite/\" + localStorage.getItem('ms_username');\n      console.log(localStorage.getItem('ms_username'));\n      this.$axios.get(this.url).then(function (res) {\n        _this3.total = res.data.number;\n        console.log(res.data);\n      });\n    },\n    search: function search() {\n      this.is_search = true;\n    },\n    filterTag: function filterTag(value, row) {\n      return row.tag === value;\n    },\n    handleEdit: function handleEdit(index, row) {\n      this.idx = index;\n      var item = this.tableData[index];\n      this.form = {\n        name: item.name,\n        date: item.date\n      };\n      this.editVisible = true;\n    },\n    handleDelete: function handleDelete(index, row) {\n      this.idx = index;\n      this.delVisible = true;\n    },\n    delAll: function delAll() {\n      var length = this.multipleSelection.length;\n      var str = '';\n      this.del_list = this.del_list.concat(this.multipleSelection);\n\n      for (var i = 0; i < length; i++) {\n        str += this.multipleSelection[i].name + ' ';\n      }\n\n      this.$message.error('删除了' + str);\n      this.multipleSelection = [];\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    // 保存编辑\n    saveEdit: function saveEdit() {\n      this.$set(this.tableData, this.idx, this.form);\n      this.editVisible = false;\n      this.$message.success(\"\\u4FEE\\u6539\\u7B2C \".concat(this.idx + 1, \" \\u884C\\u6210\\u529F\"));\n    },\n    // 确定删除\n    deleteRow: function deleteRow() {\n      this.tableData.splice(this.idx, 1);\n      this.$message.success('删除成功');\n      this.delVisible = false;\n    },\n    // Show Data Table\n    goData: function goData(index, row) {\n      // console.log(index)\n      // console.log(row)\n      this.$router.push({\n        name: 'data',\n        path: '/data',\n        query: {\n          name: row.suite\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["SuiteTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"table\">\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item><i class=\"el-icon-lx-cascades\"></i> 基础表格</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <div class=\"handle-box\">\r\n                <el-button type=\"primary\" icon=\"delete\" class=\"handle-del mr10\" @click=\"delAll\">批量删除</el-button>\r\n                <el-select v-model=\"select_cate\" placeholder=\"Data type\" class=\"handle-select mr10\">\r\n                    <el-option key=\"1\" label=\"Case\" value=\"case\"></el-option>\r\n                    <el-option key=\"2\" label=\"Suite\" value=\"suite\"></el-option>\r\n                </el-select>\r\n                <el-input v-model=\"select_word\" placeholder=\"筛选关键词\" class=\"handle-input mr10\"></el-input>\r\n                <el-button type=\"primary\" icon=\"search\" @click=\"search\">搜索</el-button>\r\n            </div>\r\n            <el-table :data=\"tableData\" border class=\"table\" ref=\"multipleTable\" @selection-change=\"handleSelectionChange\">\r\n                <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"date\" label=\"日期\" sortable width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"name\" label=\"姓名\" sortable width=\"120\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" @click=\"goData(scope.$index, scope.row)\">111</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"pass\" label=\"地址\" sortable >\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" icon=\"el-icon-edit\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n                        <el-button type=\"text\" icon=\"el-icon-delete\" class=\"red\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"pagination\">\r\n                <el-pagination background @current-change=\"handleCurrentChange\" layout=\"prev, pager, next\" :total=total>\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 编辑弹出框 -->\r\n        <el-dialog title=\"编辑\" :visible.sync=\"editVisible\" width=\"30%\">\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"50px\">\r\n                <el-form-item label=\"日期\">\r\n                    <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.date\" value-format=\"yyyy-MM-dd\" style=\"width: 100%;\"></el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"姓名\">\r\n                    <el-input v-model=\"form.name\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!-- 删除提示框 -->\r\n        <el-dialog title=\"提示\" :visible.sync=\"delVisible\" width=\"300px\" center>\r\n            <div class=\"del-dialog-cnt\">删除不可恢复，是否确定删除？</div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"delVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"deleteRow\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'basetable',\r\n        data() {\r\n            return {\r\n                url: './vuetable.json',\r\n                tableData: [],\r\n                cur_page: 1,\r\n                multipleSelection: [],\r\n                select_cate: 'case',\r\n                select_word: '',\r\n                del_list: [],\r\n                is_search: false,\r\n                editVisible: false,\r\n                delVisible: false,\r\n                form: {\r\n                    name: '',\r\n                    date: '',\r\n                    pass: '',\r\n                },\r\n                idx: -1,\r\n                total: 100\r\n            }\r\n        },\r\n        created() {\r\n            this.getData()\r\n            this.getPage()\r\n        },\r\n        computed: {\r\n            data() {\r\n                return this.tableData.filter((d) => {\r\n                    let is_del = false;\r\n                    for (let i = 0; i < this.del_list.length; i++) {\r\n                        if (d.name === this.del_list[i].name) {\r\n                            is_del = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!is_del) {\r\n                        if (d.address.indexOf(this.select_cate) > -1 &&\r\n                            (d.name.indexOf(this.select_word) > -1 ||\r\n                                d.address.indexOf(this.select_word) > -1)\r\n                        ) {\r\n                            return d;\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        methods: {\r\n            // 分页导航\r\n            handleCurrentChange(val) {\r\n                this.cur_page = val;\r\n                console.log(val);\r\n                this.getData();\r\n            },\r\n            // 获取 easy-mock 的模拟数据\r\n            getData() {\r\n                // 开发环境使用 easy-mock 数据，正式环境使用 json 文件\r\n                // if (process.env.NODE_ENV === 'development') {\r\n                    this.url = 'https://www.easy-mock.com/mock/5cfdf3b46b3bca3c744e7543/example/ms/table/list';\r\n                // };\r\n                this.$axios.post(this.url, {\r\n                    page: this.cur_page\r\n                }).then((res) => {\r\n                    this.tableData = res.data.list;\r\n                })\r\n            },\r\n            getPage() {\r\n                this.url = \"/index.php/ReturnView/pagination/suite/\" + localStorage.getItem('ms_username');\r\n                console.log(localStorage.getItem('ms_username'));\r\n                this.$axios.get(this.url).then((res) => {\r\n                    this.total = res.data.number;\r\n                    console.log(res.data);\r\n                })\r\n            },\r\n            search() {\r\n                this.is_search = true;\r\n            },\r\n            filterTag(value, row) {\r\n                return row.tag === value;\r\n            },\r\n            handleEdit(index, row) {\r\n                this.idx = index;\r\n                const item = this.tableData[index];\r\n                this.form = {\r\n                    name: item.name,\r\n                    date: item.date,\r\n                }\r\n                this.editVisible = true;\r\n            },\r\n            handleDelete(index, row) {\r\n                this.idx = index;\r\n                this.delVisible = true;\r\n            },\r\n            delAll() {\r\n                const length = this.multipleSelection.length;\r\n                let str = '';\r\n                this.del_list = this.del_list.concat(this.multipleSelection);\r\n                for (let i = 0; i < length; i++) {\r\n                    str += this.multipleSelection[i].name + ' ';\r\n                }\r\n                this.$message.error('删除了' + str);\r\n                this.multipleSelection = [];\r\n            },\r\n            handleSelectionChange(val) {\r\n                this.multipleSelection = val;\r\n            },\r\n            // 保存编辑\r\n            saveEdit() {\r\n                this.$set(this.tableData, this.idx, this.form);\r\n                this.editVisible = false;\r\n                this.$message.success(`修改第 ${this.idx+1} 行成功`);\r\n            },\r\n            // 确定删除\r\n            deleteRow() {\r\n                this.tableData.splice(this.idx, 1);\r\n                this.$message.success('删除成功');\r\n                this.delVisible = false;\r\n            },\r\n            // Show Data Table\r\n            goData(index, row) {\r\n                // console.log(index)\r\n                // console.log(row)\r\n                this.$router.push({name: 'data', path: '/data', query: { name: row.suite}})\r\n            }\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    .handle-box {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .handle-select {\r\n        width: 120px;\r\n    }\r\n\r\n    .handle-input {\r\n        width: 300px;\r\n        display: inline-block;\r\n    }\r\n    .del-dialog-cnt{\r\n        font-size: 16px;\r\n        text-align: center\r\n    }\r\n    .table{\r\n        width: 100%;\r\n        font-size: 14px;\r\n    }\r\n    .red{\r\n        color: #ff0000;\r\n    }\r\n    .mr10{\r\n        margin-right: 10px;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components/page"}]}