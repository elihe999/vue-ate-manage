(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11c89e98"],{"39c5":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ESuiteTable",{ref:"historytable",attrs:{model:t.model}})],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),t._v(t._s(t.type))])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"delete"},on:{click:t.delAll}},[t._v("批量删除")]),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}}),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),"CASE"==t.type?a("el-table-column",{attrs:{prop:"date",label:"Date",sortable:"",width:"150"}}):t._e(),"CASE"==t.type?a("el-table-column",{attrs:{prop:"name",label:"Name",sortable:"",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.goData(e.$index,e.row)}}},[t._v(t._s(e.row.name))])]}}],null,!1,3005535665)}):t._e(),"CASE"==t.type?a("el-table-column",{attrs:{prop:"path",label:"Path",sortable:"",width:"200"}}):t._e(),"CASE"==t.type?a("el-table-column",{attrs:{prop:"time",label:"Time",sortable:"",width:"130"}}):t._e(),"CASE"==t.type?a("el-table-column",{attrs:{prop:"numc",label:"Suite",sortable:"",width:"80"}}):t._e(),"CASE"==t.type?a("el-table-column",{attrs:{prop:"loopc",label:"Case",sortable:"",width:"80"}}):t._e(),"CASE"==t.type?a("el-table-column",{attrs:{prop:"result",label:"Result",sortable:"",width:"90"}}):t._e(),"SUITE"==t.type?a("el-table-column",{attrs:{prop:"time",label:"Date",sortable:"",width:"130"}}):t._e(),"SUITE"==t.type?a("el-table-column",{attrs:{prop:"path",label:"Path",sortable:"",width:"200"}}):t._e(),"SUITE"==t.type?a("el-table-column",{attrs:{prop:"passnum",label:"Pass",sortable:"",width:"80"}}):t._e(),"SUITE"==t.type?a("el-table-column",{attrs:{prop:"warnnum",label:"Warn",sortable:"",width:"80"}}):t._e(),"SUITE"==t.type?a("el-table-column",{attrs:{prop:"failnum",label:"Fail",sortable:"",width:"80"}}):t._e(),"SUITE"==t.type?a("el-table-column",{attrs:{prop:"totalnum",label:"Total",sortable:"",width:"80"}}):t._e(),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)])},n=[],r=(a("57e7"),a("7f7f"),a("d25f"),{props:[],data:function(){return{url:"/index.php/ReturnView/get_page_class/",pageurl:"/index.php/ReturnView/pagination/case/",tableData:[],cur_page:1,multipleSelection:[],select_cate:"suite",select_word:"",del_list:[],is_search:!1,editVisible:!1,delVisible:!1,form:{name:"",date:"",pass:""},idx:-1,total:100,type:"",passrate:this.totalnum}},created:function(){this.type=this.$route.params.type.toUpperCase(),this.getPage(),this.getData()},computed:{data:function(){var t=this;return this.tableData.filter(function(e){for(var a=!1,l=0;l<t.del_list.length;l++)if(e.name===t.del_list[l].name){a=!0;break}if(!a&&e.name.indexOf(t.select_cate)>-1&&(e.name.indexOf(t.select_word)>-1||e.name.indexOf(t.select_word)>-1))return e})}},methods:{handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this;console.log(this.passrate);var e="";this.type=="case".toUpperCase()?e=this.url+"case/"+localStorage.getItem("ms_username")+"/"+this.cur_page+"/10/path/0":this.type=="suite".toUpperCase()&&(e=this.url+"suite/"+localStorage.getItem("ms_username")+"/"+this.cur_page+"/10/path/0"),this.$axios.get(e).then(function(e){t.tableData=e.data.list})},search:function(){this.is_search=!0},filterTag:function(t,e){return e.tag===t},handleEdit:function(t,e){this.idx=t;var a=this.tableData[t];this.form={name:a.name,date:a.date},this.editVisible=!0},handleDelete:function(t,e){this.idx=t,this.delVisible=!0},delAll:function(){var t=this.multipleSelection.length,e="";this.del_list=this.del_list.concat(this.multipleSelection);for(var a=0;a<t;a++)e+=this.multipleSelection[a].name+" ";this.$message.error("删除了"+e),this.multipleSelection=[]},handleSelectionChange:function(t){this.multipleSelection=t},saveEdit:function(){this.$set(this.tableData,this.idx,this.form),this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功"))},deleteRow:function(){this.tableData.splice(this.idx,1),this.$message.success("删除成功"),this.delVisible=!1},goData:function(t,e){console.log(e.name)},getPage:function(){var t=this;this.type=="case".toUpperCase()?this.pageurl="/index.php/ReturnView/pagination/case/"+localStorage.getItem("ms_username"):this.type=="suite".toUpperCase()&&(this.pageurl="/index.php/ReturnView/pagination/suite/"+localStorage.getItem("ms_username")),this.$axios.get(this.pageurl).then(function(e){t.total=e.data.number})}},watch:{$route:function(t,e){this.type=this.$route.params.type.toUpperCase(),this.getData(),this.getPage()}}}),o=r,c=(a("f68c"),a("2877")),u=Object(c["a"])(o,i,n,!1,null,"2e2cd164",null),p=u.exports,h={components:{ESuiteTable:p},data:function(){return{model:{type:this.$route.path}}}},d=h,m=Object(c["a"])(d,l,s,!1,null,"44811d20",null);e["default"]=m.exports},8428:function(t,e,a){},f68c:function(t,e,a){"use strict";var l=a("8428"),s=a.n(l);s.a}}]);